import { Component } from '@angular/core';
import Chart from 'chart.js/auto';



const jsonstring = '{"LABEL":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"USA":[1.40681147493603,1.40954087228954,0.317564514682439,0.381330533217442,2.10191677878441,1.83455202822485,1.52133954188178,1.80759099546536,1.7692229387498,2.25477222241928,1.70341503209882,1.68259670737292,3.92978693461284,0.276949387328256,3.07074340073374,1.78094231816676,2.6854832638126,2.92631305900532,2.90719906976118,2.91635954929181,2.95107582815828,3.39185128329419,2.16438723651162,1.96666590842496,2.74307472339233,2.47677227078777,1.39317756297533,2.78690082644385,1.40875154020085,2.37653962164925,2.59856371932542,2.23606947719154,2.98090458737377,3.04348118534326,2.79698222982893,0.867207807301748,2.42206760781221,1.48863009542718,1.26870976089385,2.56872007336912,0.269824793885917,3.92277665078164,1.98529904522323,1.48918156915148,3.06527313910428,1.12789695249015,-0.327741113716882,3.46641816943223,2.78386175028636,1.78644899081765,2.70947261110276,2.0980458457497,1.4856869243308,1.2093160836037,2.57446740430425,2.08966382841937,4.77047006743491,1.81227328785133,0.861065877907014,3.07008975205087,-0.964045214174904,1.60490046164569,0.448876214983341,2.3053722073624,2.22834538524496,0.582342125106038,2.81190697032592,2.91798594140923,1.89983766495196,3.01615852972783,2.77256650241691,2.52035540627585,5.10314793129109,1.54379372850288,1.88837283092581,2.87960771246058,2.74299846825895,1.55465743417775,2.37282897892151,2.24043731796188,2.32502176402932,2.17011088432374,2.90871893038774,1.41417529825887,1.52761506853064,1.33234149367013,2.00765762120423,3.15567941334093,2.67539805250201,1.60387231874644,0.733837527021725,2.34380392233744,2.61281917194537,2.14099060179684,2.24353596294473,1.80642043855777,2.56690841178339,1.60795900021528,2.86358111079842,0.894516529684296],"EUROPA":[1.83367843205261,3.70882122512838,3.5028429958242,0.624089341799091,0.164260058675084,0.0427394587567969,1.63610765510295,2.4293330400012,2.47643430122765,1.61948574927308,1.0637215257348,1.82802548545632,2.21377690183792,1.89787821224608,4.72746069216831,1.72237977794664,3.31353512075822,1.65898484336381,2.41315425116189,1.16688816911948,2.1319257291276,0.758697460336122,1.74291148429318,1.83606731154737,3.18114085623244,1.38370476014969,1.49125229626174,1.76326808220607,2.13558264856443,1.96132952297644,2.08343370835447,2.29952121993987,0.276180615604136,1.82335852490397,3.05197545980428,2.23937017260103,1.70666657966969,3.96602114510676,3.89790719174044,1.61782997176119,2.16058575310005,3.44494369162352,2.22666233993793,1.38809424837061,3.24456193343344,-0.399992855518549,2.73509676632886,1.49340377608709,1.36565528636366,1.19528796876051,3.07740571579937,2.38510567142466,2.00305406897464,1.40449824010033,2.5321162471864,2.19634945788971,2.74185748244761,1.63612418185183,3.37581197025061,1.28022738432286,1.31771435258588,2.50501938029808,1.85864392090552,2.29678993101818,3.62018266065331,1.26151400433578,1.36516499519996,3.24248226150659,1.36755919359735,1.57216487013886,-0.749465208636146,1.21154532365993,2.11116394174822,2.93252122379305,2.51198830485311,1.84071625897805,1.57407172734818,0.530258631514727,1.98628107483777,1.82190167563532,1.62562443720319,2.19782472389481,2.47833296963888,2.80893020602344,2.0606051004895,3.59069382066896,1.75992933779607,1.82382797260106,3.91429527236436,5.76281340087938,2.3696904447123,2.06049828893334,2.09956420785115,2.1566639324264,2.61684433938594,2.52511258118138,1.85866842750388,3.5573292838104,2.77529960870637,1.10851995649574],"FINANZKRISE":[13.6849512088417,-5.00524299428238,14.2803007654992,-15.422636137449,-5.60937116352433,6.54560613625173,-6.79892180431114,-2.01644703860615,-9.92581136944692,8.34687472761733,3.50643301588388,1.56943462241907,-5.52802407484274,12.7730555612157,18.1142873476992,16.326543458609,-9.54273160378322,12.2436009348151,-7.24863894852379,12.3405526961813,8.04330560480072,-13.1551454103625,-9.63223003737321,17.1133059805659,5.64128484256663,10.4420325006762,5.03501816824065,-1.28276282465199,-8.83623565621445,-11.5677758092354,-2.19426599751896,25.4736613648645,-11.2850578860098,3.48793933990298,5.60969432108551,-4.65410353061954,4.64733572739863,-2.53588505232708,-5.02412177852781,-2.80464116960805,1.55102607515253,2.37174120845319,0.995790332357487,21.4247411158933,3.92851324250897,-2.54850685395168,-20.7103129428687,8.28282178113995,-8.47812126439476,13.2677825124729,16.6010999755241,5.4941800210098,6.44672700305154,11.8974568214436,14.3432889392956,-11.9728640078069,5.81772857268901,-1.59933725008393,7.96048384749338,1.40590261750837,0.0650479252761104,-8.83266275543572,2.09305483076544,2.16936716966453,-11.2910478895465,4.50898329285827,-0.266587333536076,11.5345479579928,-0.180154368247752,-0.54693414746607,-7.08001117992895,-13.4532774696914,-10.5777978055269,1.76536057094958,8.74505047575181,-12.9028102627723,13.9918153799571,-1.49127409653794,-1.84910935972923,10.1759617133917,-17.5114686084478,3.946020818734,23.2201654888339,5.40304585583282,-6.75484025685641,16.6729569693844,-6.95932185473091,4.99364264311564,10.633703374465,5.15366534387011,17.9338540923342,12.3206968877293,5.45636425526363,0.850116312880013,8.95575839088856,-6.9097461820248,-4.98696050032166,3.00974312140341,15.8281484437354,-6.72496417222759],"WELT":[13.6849512088417,-5.00524299428238,14.2803007654992,-15.422636137449,-5.60937116352433,6.54560613625173,-6.79892180431114,-2.01644703860615,-9.92581136944692,8.34687472761733,3.50643301588388,1.56943462241907,-5.52802407484274,12.7730555612157,18.1142873476992,16.326543458609,-9.54273160378322,12.2436009348151,-7.24863894852379,12.3405526961813,8.04330560480072,-13.1551454103625,-9.63223003737321,17.1133059805659,5.64128484256663,10.4420325006762,5.03501816824065,-1.28276282465199,-8.83623565621445,-11.5677758092354,-2.19426599751896,25.4736613648645,-11.2850578860098,3.48793933990298,5.60969432108551,-4.65410353061954,4.64733572739863,-2.53588505232708,-5.02412177852781,-2.80464116960805,1.55102607515253,2.37174120845319,0.995790332357487,21.4247411158933,3.92851324250897,-2.54850685395168,-20.7103129428687,8.28282178113995,-8.47812126439476,13.2677825124729,16.6010999755241,5.4941800210098,6.44672700305154,11.8974568214436,14.3432889392956,-11.9728640078069,5.81772857268901,-1.59933725008393,7.96048384749338,1.40590261750837,0.0650479252761104,-8.83266275543572,2.09305483076544,2.16936716966453,-11.2910478895465,4.50898329285827,-0.266587333536076,11.5345479579928,-0.180154368247752,-0.54693414746607,-7.08001117992895,-13.4532774696914,-10.5777978055269,1.76536057094958,8.74505047575181,-12.9028102627723,13.9918153799571,-1.49127409653794,-1.84910935972923,10.1759617133917,-17.5114686084478,3.946020818734,23.2201654888339,5.40304585583282,-6.75484025685641,16.6729569693844,-6.95932185473091,4.99364264311564,10.633703374465,5.15366534387011,17.9338540923342,12.3206968877293,5.45636425526363,0.850116312880013,8.95575839088856,-6.9097461820248,-4.98696050032166,3.00974312140341,15.8281484437354,-6.72496417222759]}';
let jsondata = JSON.parse(jsonstring);
//console.log(jsondata.LABEL)


const options = {
  plugins: {
    title: {
      display: true,
      text: 'Industrieproduktion',
      color: "black",
      font: {
        size: 19
      }
    },
    legend: {
      display: true,
      reverse: true,
      labels: {
        color: "black"
      }
    }
  },
  responsive: true,
  scales: {
    x: {
      stacked: true,
      grid: {
          display: false
      },
      ticks: {
        color: "black"
      }
    },
    y: {
      stacked: true,
      title: {
        display: true,
        text: "\u0394 Vorjahr",
        color: "black"
      },
      ticks: {
        color: "black",
        callback: function(value: any, index: any, ticks: any) {
            return value + "%";
        }
      }
    }
  }
}


@Component({
  selector: 'app-industrieproduktion',
  templateUrl: './industrieproduktion.component.html',
  styleUrls: ['./industrieproduktion.component.scss']
})
export class IndustrieproduktionComponent {

  chart: any = [];
  constructor() {}


  ngOnInit() {

    this.chart = new Chart('indprod', {
    data: {
        labels: jsondata.LABEL,
        datasets: [{
            type: 'bar',
            label: 'Eurozone',
            data: jsondata.EUROPA,
            order: 2,
            borderWidth: 2,
            borderColor: "black",
            backgroundColor: "blue",
            borderSkipped: false,
        },
        {
            type: 'bar',
            label: 'USA',
            data: jsondata.USA,
            order: 2,
            borderWidth: 2,
            borderColor: "black",
            backgroundColor: "green",
            borderSkipped: false
        },
        {
            type: 'line',
            label: 'Welt',
            data: jsondata.WELT,
            order: 1,
            borderWidth: 2,
            borderColor: "red",
            backgroundColor: "red",
            pointRadius: 0
        },
        {
            type: 'line',
            label: 'Finanzkrise',
            data: jsondata.FINANZKRISE,
            order: 1,
            borderWidth: 2,
            borderColor: "yellow",
            backgroundColor: "yellow",
            pointRadius: 0
        }
        ]
    },
    options: options
  });

  }

}
